# nsg-flowlogs-converter

Convert local PT1H.json to csv as a standard output.

```
$ ./nsg-flowlogs-converter csv
2017-04-02 23:39:26 +0900 JST,10.2.0.4,23.99.34.232,37560,443,T,O,A
2017-04-02 23:39:26 +0900 JST,10.2.0.4,23.99.34.232,37562,443,T,O,A
2017-04-02 23:39:26 +0900 JST,10.2.0.4,23.99.34.232,37564,443,T,O,A
2017-04-02 23:39:26 +0900 JST,10.2.0.4,23.99.34.232,37566,443,T,O,A
2017-04-02 23:39:27 +0900 JST,10.2.0.4,23.99.34.232,37568,443,T,O,A
2017-04-02 23:39:27 +0900 JST,10.2.0.4,23.99.34.232,37570,443,T,O,A
2017-04-02 23:39:44 +0900 JST,10.2.0.4,91.189.89.199,56559,123,U,O,A
2017-04-02 23:39:47 +0900 JST,10.2.0.4,91.189.89.199,37185,123,U,O,A
2017-04-02 23:39:52 +0900 JST,10.2.0.4,91.189.89.199,54045,123,U,O,A
2017-04-02 23:39:57 +0900 JST,10.2.0.4,91.189.89.199,57632,123,U,O,A
2017-04-02 23:40:02 +0900 JST,10.2.0.4,91.189.89.199,53216,123,U,O,A
2017-04-02 23:40:07 +0900 JST,10.2.0.4,91.189.89.199,35513,123,U,O,A
2017-04-02 23:40:12 +0900 JST,10.2.0.4,91.189.89.199,34070,123,U,O,A
2017-04-02 23:40:17 +0900 JST,10.2.0.4,91.189.89.199,54582,123,U,O,A
2017-04-02 23:40:22 +0900 JST,10.2.0.4,91.189.89.199,38351,123,U,O,A
2017-04-02 23:39:52 +0900 JST,xxx.xxx.xxx.xxx,10.2.0.4,31639,22,T,I,D
2017-04-02 23:39:55 +0900 JST,xxx.xxx.xxx.xxx,10.2.0.4,31639,22,T,I,D
2017-04-02 23:40:01 +0900 JST,xxx.xxx.xxx.xxx,10.2.0.4,31639,22,T,I,D
```

## usage

1. clone this repository and build code.

```
git clone https://github.com/kongou-ae/nsg-flowlogs-conveter
cd nsg-flowlogs-conveter
go build nsg-flowlogs-conveter.go
```

2. download a nsg flowlogs flie (PT1H.json) from Azure portal.
3. `./nsg-flowlogs-conveter csv`